@startuml
skinparam state {
  BackgroundColor White
  BorderColor #444
  ArrowColor Black
}

'-------------------- MAIN STATES --------------------
state "à¹„à¸¡à¹ˆà¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸£à¸°à¸šà¸š (Guest)" as GuestState
state "à¸¥à¸¹à¸à¸„à¹‰à¸² (Customer)" as CustomerState
state "16à¸œà¸¹à¹‰à¸”à¸¹à¹à¸¥à¸£à¸°à¸šà¸š (Admin)" as AdminState

'-------------------- PROFILE --------------------
state "à¸ˆà¸±à¸”à¸à¸²à¸£à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ" as ProfileManagement {
  state "à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§" as ViewProfile
  state "à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥" as EditProfile
}

'-------------------- ADMIN SECTION --------------------
state "à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¸°à¸šà¸š (System Management)" as AdminManagement {

  ' à¸«à¸™à¹‰à¸² Dashboard à¸‚à¸­à¸‡à¹à¸­à¸”à¸¡à¸´à¸™ (à¸ˆà¸¸à¸”à¸Ÿà¹‰à¸²à¸‚à¹‰à¸²à¸‡à¹ƒà¸™ System Management)
  state "Admin Dashboard" as AdminDashboard

  ' à¸«à¸™à¹‰à¸²à¸ˆà¸±à¸”à¸à¸²à¸£à¸¢à¹ˆà¸­à¸¢à¸•à¹ˆà¸²à¸‡ à¹†
  state "à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸ˆà¸­à¸‡" as ManageBookings
  state "à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¸¹à¸à¸„à¹‰à¸²" as ManageCustomers
  state "à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹‚à¸•à¹Šà¸°" as ManageTables
  state "à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸à¸¡" as ManageGames
  state "à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸£à¸°à¸šà¸š" as ConfigureSystem

  ' à¸ˆà¸¸à¸”à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸‚à¸­à¸‡ System Management â†’ Dashboard
  [*] --> AdminDashboard : à¹à¸ªà¸”à¸‡à¹€à¸¡à¸™à¸¹à¸«à¸¥à¸±à¸à¸‚à¸­à¸‡ Admin

  ' à¹„à¸›à¹à¸•à¹ˆà¸¥à¸°à¸ªà¹ˆà¸§à¸™à¸ˆà¸²à¸ Dashboard
  AdminDashboard --> ManageBookings    : Button 16.1
  AdminDashboard --> ManageTables      : Button 16.2
  AdminDashboard --> ManageCustomers  : Button 16.3
  AdminDashboard --> ManageGames      : Button 16.4
  AdminDashboard --> ConfigureSystem  : #16 Configure

  ' ğŸ” à¸à¸¥à¸±à¸šà¸¡à¸²à¸—à¸µà¹ˆ Dashboard à¸«à¸¥à¸±à¸‡à¸—à¸³à¸‡à¸²à¸™à¹€à¸ªà¸£à¹‡à¸ˆ
  ManageBookings --> AdminDashboard
  ManageTables --> AdminDashboard
  ManageCustomers --> AdminDashboard
  ManageGames --> AdminDashboard
  ConfigureSystem --> AdminDashboard
}

'-------------------- BOOKING FLOW --------------------
state "à¸à¸²à¸£à¸ˆà¸­à¸‡ (Booking)" as BookingProcess {
  state "à¹€à¸¥à¸·à¸­à¸à¸§à¸±à¸™" as SelectDate
  state "à¹€à¸¥à¸·à¸­à¸à¹‚à¸•à¹Šà¸°à¹à¸¥à¸°à¹€à¸§à¸¥à¸²" as SelectTable
  state "à¹€à¸¥à¸·à¸­à¸à¹€à¸à¸¡" as SelectGame
  state "à¸¢à¸·à¸™à¸¢à¸±à¸™à¸à¸²à¸£à¸ˆà¸­à¸‡" as ConfirmBooking
  state "à¸à¸²à¸£à¸ˆà¸­à¸‡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ" as BookingSuccess
  state "à¸à¸²à¸£à¸ˆà¸­à¸‡à¸¥à¹‰à¸¡à¹€à¸«à¸¥à¸§" as BookingFailed
}

'-------------------- START --------------------
[*] --> GuestState : à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™

'-------------------- GUEST --------------------
GuestState --> CustomerState : Login (Button 1.3)
GuestState --> GuestState      : à¸¥à¸·à¸¡à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™ (Button 1.1)
GuestState --> CustomerState  : Register (Button 1.2)
GuestState --> AdminState      : Admin Login (Button 15.0)

'-------------------- CUSTOMER MAIN --------------------
CustomerState --> BookingProcess : à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸­à¸‡à¹‚à¸•à¹Šà¸° (Button 7.2)
CustomerState --> ProfileManagement : à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ (Button 7.1)
CustomerState --> CustomerState : à¸”à¸¹à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸ˆà¸­à¸‡ (Button 7.3)
CustomerState --> GuestState : Logout (Button 13.2)

'-------------------- PROFILE FLOW --------------------
ProfileManagement --> ViewProfile
ViewProfile --> EditProfile : à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (Button 13.1)
EditProfile --> ViewProfile : à¸šà¸±à¸™à¸—à¸¶à¸ (Button 13.1.1)
ProfileManagement --> CustomerState : à¸à¸¥à¸±à¸šà¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸ (Home 7.0)

'-------------------- BOOKING FLOW --------------------
' à¸šà¸£à¸£à¸—à¸±à¸”à¸™à¸µà¹‰à¸–à¸¹à¸à¸¥à¸šà¹„à¸› (CustomerState --> BookingProcess) à¹€à¸™à¸·à¹ˆà¸­à¸‡à¸ˆà¸²à¸à¸‹à¹‰à¸³à¸‹à¹‰à¸­à¸™
' à¹à¸¥à¸°à¸¡à¸µà¸šà¸£à¸£à¸—à¸±à¸”à¸”à¹‰à¸²à¸™à¸šà¸™à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸” Event à¹à¸¥à¹‰à¸§ (CustomerState --> BookingProcess : à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸­à¸‡à¹‚à¸•à¹Šà¸° (Button 7.2))

BookingProcess --> SelectDate

SelectDate --> SelectTable : à¹€à¸¥à¸·à¸­à¸à¸§à¸±à¸™ (Button 8.1)
SelectDate --> CustomerState : à¸¢à¸à¹€à¸¥à¸´à¸

SelectTable --> SelectGame : à¹€à¸¥à¸·à¸­à¸à¹‚à¸•à¹Šà¸° & à¹€à¸§à¸¥à¸² (Button 9.1)
SelectTable --> SelectDate : à¹à¸à¹‰à¹„à¸‚à¸§à¸±à¸™ (Back 9.2)
SelectTable --> CustomerState : à¸¢à¸à¹€à¸¥à¸´à¸

SelectGame --> ConfirmBooking : à¹€à¸¥à¸·à¸­à¸à¹€à¸à¸¡ (Button 10.3)
SelectGame --> SelectTable : à¸à¸¥à¸±à¸š (Button 10.2)
SelectGame --> CustomerState : à¸¢à¸à¹€à¸¥à¸´à¸

ConfirmBooking --> BookingSuccess : à¸ªà¸³à¹€à¸£à¹‡à¸ˆ
ConfirmBooking --> BookingFailed  : Error (à¸ˆà¸­à¸‡à¸‹à¹‰à¸³)
ConfirmBooking --> SelectGame : à¹à¸à¹‰à¹„à¸‚à¹€à¸à¸¡ (Button 11.2)
ConfirmBooking --> CustomerState : à¸¢à¸à¹€à¸¥à¸´à¸

BookingSuccess --> CustomerState : à¸à¸¥à¸±à¸š Home (Btn 12.1)
BookingSuccess --> BookingProcess : à¸ˆà¸­à¸‡à¸•à¹ˆà¸­ (Btn 12.2)

BookingFailed --> SelectDate : à¸¥à¸­à¸‡à¹ƒà¸«à¸¡à¹ˆ
BookingFailed --> CustomerState : à¸à¸¥à¸±à¸š Home

'-------------------- ADMIN --------------------
AdminState --> AdminManagement : à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š (Btn 15.1)
AdminState --> GuestState : Logout

'-------------------- END --------------------
CustomerState -[hidden]-> AdminState
@enduml